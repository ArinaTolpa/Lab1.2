## Тесты для структурных моделей

### 1. Класс `TestCharacter`
#### Тест №1.1: test_move_with_collision_right (позитивный)
* _Цель_: Проверка корректности обработки столкновения персонажа со стеной при движении вправо.
* _Входные данные_: Начальная позиция персонажа (34, 50), попытка перемещения на 20 пикселей вправо.
* _Ожидаемый результат_: Персонаж должен остановиться перед стеной, правый край персонажа совпадает с левым краем стены.
* _Описание процесса_: Устанавливается начальная позиция персонажа, вызывается метод move с параметрами (20, 0), проверяется положение персонажа после движения.

##### Тест №1.2: test_move_with_collision_left (позитивный)
* _Цель_: Проверка корректности обработки столкновения персонажа со стеной при движении влево.
* _Входные данные_: Начальная позиция персонажа (116, 100), попытка перемещения на 20 пикселей влево.
* _Ожидаемый результат_: Персонаж должен остановиться перед стеной, левый край персонажа совпадает с правым краем стены.
* _Описание процесса_: Устанавливается начальная позиция персонажа, вызывается метод `move` с параметрами (-20, 0), проверяется положение персонажа после движения.

#### Тест №1.3: test_move_with_collision_down (позитивный)
* _Цель_: Проверка корректности обработки столкновения персонажа со стеной при движении вниз.
* _Входные данные_: Начальная позиция персонажа (50, 34), попытка перемещения на 20 пикселей вниз.
* _Ожидаемый результат_: Персонаж должен остановиться перед стеной, нижний край персонажа совпадает с верхним краем стены.
* _Описание процесса_: Устанавливается начальная позиция персонажа, вызывается метод `move` с параметрами (0, 20), проверяется положение персонажа после движения.

#### Тест №1.4: test_move_with_collision_up (позитивный)
* _Цель_: Проверка корректности обработки столкновения персонажа со стеной при движении вверх.
* _Входные данные_: Начальная позиция персонажа (100, 116), попытка перемещения на 20 пикселей вверх.
* _Ожидаемый результат_: Персонаж должен остановиться перед стеной, верхний край персонажа совпадает с нижним краем стены.
* _Описание процесса_: Устанавливается начальная позиция персонажа, вызывается метод `move` с параметрами (0, -20), проверяется положение персонажа после движения.

#### Тест №1.5: test_move_with_multiple_collisions (позитивный)
* _Цель_: Проверка корректности обработки множества столкновений персонажа с несколькими стенами.
* _Входные данные_: Начальная позиция персонажа (32, 32), попытка перемещения на 18 пикселей вправо и 18 пикселей вниз.
* _Ожидаемый результат_: Персонаж должен остановиться перед углом стены, правый край персонажа совпадает с левым краем стены и нижний край с верхним краем стены.
* _Описание процесса_: Устанавливается начальная позиция персонажа, вызывается метод move с параметрами (18, 18), проверяется положение персонажа после движения.


### 2. Класс `TestCoin`
#### Тест №2.1: test_coin_initialization (позитивный)
* _Цель_: Проверка корректности инициализации монеты с заданным положением и атрибутами.
* _Входные данные_: Позиция монеты (100, 150), параметр negative по умолчанию.
* _Ожидаемый результат_: Монета инициализируется в указанной позиции, атрибут negative установлен в False.
* _Описание процесса_: Создается объект монеты с позицией (100, 150), проверяется, что верхний левый угол прямоугольника монеты соответствует этой позиции и атрибут negative равен False.

#### Тест №2.2: test_negative_coin_initialization (позитивный)
* _Цель_: Проверка корректности инициализации отрицательной монеты с заданным положением и атрибутами.
* _Входные данные_: Позиция монеты (200, 250), параметр negative=True.
* _Ожидаемый результат_: Монета инициализируется в указанной позиции, атрибут negative установлен в True.
* _Описание процесса_: Создается объект монеты с позицией (200, 250) и параметром negative=True, проверяется, что верхний левый угол прямоугольника монеты соответствует этой позиции и атрибут negative равен True.

#### Тест №2.3: test_coin_size (позитивный)
* _Цель_: Проверка корректности размера монеты.
* _Входные данные_: Позиция монеты (300, 350).
* _Ожидаемый результат_: Ширина и высота прямоугольника монеты равны 10 пикселям.
* _Описание процесса_: Создается объект монеты с позицией (300, 350), проверяется, что ширина и высота прямоугольника монеты равны 10 пикселям.


### 3. Класс `TestGameStats`
#### Тест №3.1: test_game_stats_display (позитивный)
* _Цель_: Проверка корректности инициализации и отображения игрового статуса на экране.
* _Входные данные_: Сообщение "Test Message", количество монет 10, размеры экрана 800x600.
* _Ожидаемый результат_: Поверхность дисплея инициализирована и отображается корректно, не является None.
* _Описание процесса_: Создается объект `GameStats` с заданными параметрами, проверяется, что поверхность дисплея инициализирована и не является None.

#### Тест №3.2: test_game_stats_content (позитивный)
* _Цель_: Проверка корректности содержимого игрового статуса и реакции на события.
* _Входные данные_: Сообщение "Test Message", количество монет 10, размеры экрана 800x600.
* _Ожидаемый результат_: Окно приложения не закрывается из-за события pygame.QUIT.
* _Описание процесса_: Создается объект `GameStats` с заданными параметрами, проверяется, что в обработке событий нет pygame.QUIT, что могло бы вызвать неожиданное закрытие окна.


### 4. Класс `TestConfirmExit`
#### Тест №4.1: test_confirm_exit_yes (позитивный)
* _Цель_: Проверка корректности подтверждения выхода при нажатии клавиши 'Y'.
* _Входные данные_: Событие нажатия клавиши 'Y'.
* _Ожидаемый результат_: Приложение завершает работу и вызывает `SystemExit`.
* _Описание процесса_: Создается событие нажатия клавиши 'Y', которое постится в очередь событий pygame. Затем вызывается метод `ConfirmExit`, и проверяется, что при обработке события происходит выход из системы с помощью `SystemExit`.

### Тест №4.2: test_confirm_exit_no (позитивный)
* _Цель_: Проверка корректности отклонения выхода при нажатии клавиши 'N'.
* _Входные данные_: Событие нажатия клавиши 'N' (pygame.KEYDOWN с key: K_n).
* _Ожидаемый результат_: Приложение продолжает работу, выход из системы не происходит.
* _Описание процесса_: Создается событие нажатия клавиши 'N', которое постится в очередь событий pygame. Затем вызывается метод `ConfirmExit`, и проверяется, что при обработке события не происходит выход из системы. Если вызывается `SystemExit`, тест завершается с ошибкой.

#### Тест №4.3: test_confirm_exit_quit_event (позитивный)
* _Цель_: Проверка корректности подтверждения выхода при событии pygame.QUIT.
* _Входные данные_: Событие pygame.QUIT.
* _Ожидаемый результат_: Приложение завершает работу и вызывает `SystemExit`.
* _Описание процесса_: Создается событие pygame.QUIT, которое постится в очередь событий pygame. Затем вызывается метод `ConfirmExit`, и проверяется, что при обработке события происходит выход из системы с помощью `SystemExit`.


### 5. Класс `TestShowStartScreen`
#### Тест №5.1: test_show_start_screen (позитивный)
* _Цель_: Проверка корректности отображения стартового экрана при нажатии клавиши ENTER.
* _Входные данные_: Событие нажатия клавиши ENTER.
* _Ожидаемый результат_: Функция `ShowStartScreen` завершает выполнение корректно.
* _Описание процесса_: Создается событие нажатия клавиши ENTER, которое постится в очередь событий pygame. Затем вызывается функция `ShowStartScreen` с параметрами экрана и шрифта. Проверяется, что функция завершилась без ошибок.

#### Тест №5.2: test_quit_game (позитивный)
* _Цель_: Проверка корректности выхода из игры при событии pygame.QUIT.
* _Входные данные_: Событие pygame.QUIT.
* _Ожидаемый результат_: Приложение завершает работу и вызывает `SystemExit`.
* _Описание процесса_: Создается событие pygame.QUIT, которое постится в очередь событий pygame. Затем вызывается функция `ShowStartScreen` с параметрами экрана и шрифта. Проверяется, что при обработке события происходит выход из системы с помощью `SystemExit`.

### 6. Класс `TestCoinCollection`
#### Тест №6.1: test_collect_positive_coin (позитивный)
* _Цель_: Проверка корректности сбора положительной монеты.
* _Входные данные_: Позиция игрока (50, 50), список монет содержит одну положительную монету на этой позиции.
* _Ожидаемый результат_: Количество собранных монет увеличивается на 1, положительная монета удаляется из списка монет.
* _Описание процесса_: Перемещается игрок на позицию положительной монеты, вызывается метод `player_collision` для проверки коллизий, проверяется, что количество собранных монет увеличилось на 1 и монета была удалена из списка.

#### Тест №6.2: test_collect_negative_coin (позитивный)
* _Цель_: Проверка корректности сбора положительной, а затем отрицательной монеты.
* _Входные данные_: Позиция игрока (50, 50) для сбора положительной монеты и (100, 100) для сбора отрицательной монеты, список монет содержит одну положительную и одну отрицательную монету на соответствующих позициях.
* _Ожидаемый результат_: Количество собранных монет сначала увеличивается до 1, а затем уменьшается до 0, обе монеты удаляются из списка монет.
* _Описание процесса_: Перемещается игрок на позицию положительной монеты, вызывается метод `player_collision` для проверки коллизий, затем перемещается игрок на позицию отрицательной монеты и снова вызывается метод `player_collision`. Проверяется, что количество собранных монет сначала увеличилось, а затем уменьшилось, и обе монеты были удалены из списка.

#### Тест №6.3: test_collect_negative_coin_with_zero_count (позитивный)
* _Цель_: Проверка корректности обработки сбора отрицательной монеты при нулевом количестве собранных монет.
* _Входные данные_: Позиция игрока (100, 100), список монет содержит одну отрицательную монету на этой позиции.
* _Ожидаемый результат_: Количество собранных монет остается 0, отрицательная монета не удаляется из списка монет.
* _Описание процесса_: Перемещается игрок на позицию отрицательной монеты, вызывается метод `player_collision` для проверки коллизий, проверяется, что количество собранных монет осталось 0 и отрицательная монета не была удалена из списка.


### 7. Класс `TestGame`
#### Тест №7.1: test_initialization (позитивный)
* _Цель_: Проверка корректности инициализации окна с заголовком.
* _Входные данные_: Заголовок окна "Достигните красного квадрата!".
* _Ожидаемый результат_: Заголовок окна установлен корректно.
* _Описание процесса_: Устанавливается заголовок окна, проверяется, что заголовок окна соответствует ожидаемому значению.

#### Тест №7.2: test_confirm_exit (позитивный)
* _Цель_: Проверка корректности выхода из игры при нажатии клавиши ESC и подтверждении клавишей Y.
* _Входные данные_: События нажатия клавиш ESC и Y.
* _Ожидаемый результат_: Приложение завершает работу и вызывает `SystemExit`.
* _Описание процесса_: Создаются события нажатия клавиш ESC и Y, которые постятся в очередь событий pygame. Проверяется, что при обработке событий происходит выход из системы с помощью `SystemExit`.

#### Тест №7.3: test_player_movement (позитивный)
* _Цель_: Проверка корректности перемещения игрока с учетом стены.
* _Входные данные_: Начальная позиция игрока, положение стены.
* _Ожидаемый результат_: Игрок корректно перемещается вправо и останавливается перед стеной.
* _Описание процесса_: Создается игрок и стена, игрок перемещается вправо, проверяется новая позиция игрока, чтобы убедиться, что он остановился перед стеной.

#### Тест №7.4: test_collect_coin (позитивный)
* _Цель_: Проверка корректности сбора монеты игроком.
* _Входные данные_: Позиция игрока и монеты.
* _Ожидаемый результат_: Игрок собирает монету, монета удаляется из списка монет.
* _Описание процесса_: Игрок перемещается на позицию монеты, проверяется коллизия игрока с монетой, монета удаляется из списка, проверяется, что монет не осталось.

#### Тест №7.5: test_game_win (позитивный)
* _Цель_: Проверка завершения игры при сборе всех монет и достижении конечной точки.
* _Входные данные_: Позиция игрока, список монет, конечная точка.
* _Ожидаемый результат_: Все монеты собраны, игрок достигает конечной точки.
* _Описание процесса_: Игрок перемещается на позиции всех монет, собирает их, затем перемещается в конечную точку, проверяется, что все монеты собраны и игрок достиг конечной точки.

#### Тест №7.6: test_time_out (позитивный)
* _Цель_: Проверка ограничения времени игры.
* _Входные данные_: Начальное время, максимальное время игры (120 секунд).
* _Ожидаемый результат_: Текущее время не превышает максимальное время.
* _Описание процесса_: Фиксируется начальное время, вычисляется прошедшее время, проверяется, что прошедшее время не превышает максимальное время.

#### Тест №7.7: test_reach_end (позитивный)
*  _Цель_: Проверка достижения игроком конечной точки.
* _Входные данные_: Позиция игрока рядом с конечной точкой, положение конечной точки.
* _Ожидаемый результат_: Игрок достигает конечной точки.
* _Описание процесса_: Игрок перемещается рядом с конечной точкой, проверяется коллизия игрока с конечной точкой.


### 8. Класс `TestInitializeGame`
#### Тест №8.1: test_initialize_game (позитивный)
* _Цель_: Проверка корректности инициализации игры.
* _Входные данные_: Вызов функции `initialize_game`.
* _Ожидаемый результат_: Корректное создание и инициализация всех компонентов игры.
* _Описание процесса_: Вызывается функция `initialize_game`, проверяется ширина и высота экрана, смещения лабиринта, типы и начальные значения экранных объектов, игрока, списка стен и монет.


### 9. Класс `TestMazeGeneration`
#### Тест №9.1: test_maze_generation (позитивный)
* _Цель_: Проверка корректности генерации лабиринта и связанных элементов.
* _Входные данные_: Размеры лабиринта (40x30), смещение лабиринта (0 по X и 50 по Y), экземпляр игрока.
* _Ожидаемый результат_: Корректная генерация лабиринта, начальной позиции игрока, конечной позиции, стен и монет.
* _Описание процесса_: Вызывается функция `generate_maze_and_elements`, проверяется начальная позиция игрока, конечная позиция, типы элементов в списках стен и монет, а также количество положительных и отрицательных монет.

#### Тест №9.2: test_player_start_position (позитивный)
* _Цель_: Проверка начальной позиции игрока в лабиринте.
* _Входные данные_: Размеры лабиринта (40x30), смещение лабиринта (0 по X и 50 по Y), экземпляр игрока.
* _Ожидаемый результат_: Начальная позиция игрока равна (1, 1).
* _Описание процесса_: Вызывается функция `generate_maze_and_elements`, проверяется начальная позиция игрока.

#### Тест №9.3: test_end_position (позитивный)
* _Цель_: Проверка конечной позиции в лабиринте.
* _Входные данные_: Размеры лабиринта (40x30), смещение лабиринта (0 по X и 50 по Y), экземпляр игрока.
* _Ожидаемый результат_: Конечная позиция соответствует ожидаемому значению.
* _Описание процесса_: Вызывается функция `generate_maze_and_elements`, проверяется конечная позиция на соответствие ожидаемому значению.


### 10. Класс `TestCheckCoinCollection`
#### Тест №10.1: test_collect_positive_coin (позитивный)
* _Цель_: Проверка корректности сбора положительной монеты.
* _Входные данные_: Позиция игрока (50, 50), положительная монета на той же позиции, начальное количество собранных монет равно 0.
* _Ожидаемый результат_: Количество собранных монет увеличивается на 1, монета удаляется из списка монет.
* _Описание процесса_: Создается положительная монета на позиции игрока, вызывается функция `check_coin_collection`, проверяется, что количество монет увеличилось на 1 и монета удалена из списка.

#### Тест №10.2: test_collect_negative_coin (позитивный)
* _Цель_: Проверка корректности сбора отрицательной монеты.
* _Входные данные_: Позиция игрока (50, 50), отрицательная монета на той же позиции, начальное количество собранных монет равно 1.
* _Ожидаемый результат_: Количество собранных монет уменьшается на 1, монета удаляется из списка монет.
* _Описание процесса_: Создается отрицательная монета на позиции игрока, вызывается функция `check_coin_collection`, проверяется, что количество монет уменьшилось на 1 и монета удалена из списка.

#### Тест №10.3: test_collect_negative_coin_with_zero_count (позитивный)
* _Цель_: Проверка корректности сбора отрицательной монеты при начальном количестве монет равном 0.
* _Входные данные_: Позиция игрока (50, 50), отрицательная монета на той же позиции, начальное количество собранных монет равно 0.
* _Ожидаемый результат_: Количество собранных монет остается равным 0, монета удаляется из списка монет.
* _Описание процесса_: Создается отрицательная монета на позиции игрока, вызывается функция `check_coin_collection`, проверяется, что количество монет осталось 0 и монета удалена из списка.

#### Тест №10.4: test_no_coin_collision (позитивный)
* _Цель_: Проверка отсутствия коллизии с монетой.
* _Входные данные_: Позиция игрока (50, 50), положительная монета на позиции (100, 100), начальное количество собранных монет равно 0.
* _Ожидаемый результат_: Количество собранных монет не изменяется, монета остается в списке монет.
* _Описание процесса_: Создается положительная монета на позиции, отличной от позиции игрока, вызывается функция `check_coin_collection`, проверяется, что количество монет не изменилось и монета осталась в списке.


### 11. Класс `TestCheckGameEnd`
#### Тест №11.1: test_check_game_end_victory (позитивный)
* _Цель_: Проверка завершения игры при достижении условия победы по количеству монет.
* _Входные данные_: Количество собранных монет равно 20, время начала игры меньше максимального времени, позиция игрока.
* _Ожидаемый результат_: Игра завершается с условием победы, вызывается `SystemExit`.
* _Описание процесса_: Устанавливаются условия победы, вызывается функция `check_game_end`, проверяется, что игра завершается с условием победы и вызывается `SystemExit`.

#### Тест №11.2: test_check_game_end_reach_end (позитивный)
* _Цель_: Проверка завершения игры при достижении конца лабиринта.
* _Входные данные_: Количество собранных монет меньше необходимого для победы, время начала игры меньше максимального времени, позиция игрока на конце лабиринта.
* _Ожидаемый результат_: Игра завершается при достижении конца лабиринта, вызывается `SystemExit`.
* _Описание процесса_: Устанавливаются условия достижения конца лабиринта, вызывается функция `check_game_end`, проверяется, что игра завершается при достижении конца лабиринта и вызывается `SystemExit`.

#### Тест №11.3: test_check_game_end_time_out (позитивный)
* _Цель_: Проверка завершения игры при превышении максимального времени.
* _Входные данные_: Количество собранных монет меньше необходимого для победы, время начала игры больше максимального времени, позиция игрока.
* _Ожидаемый результат_: Игра завершается при превышении максимального времени, вызывается `SystemExit`.
* _Описание процесса_: Устанавливаются условия превышения максимального времени, вызывается функция `check_game_end`, проверяется, что игра завершается при превышении максимального времени и вызывается `SystemExit`.


### 12. Класс `TestMovePlayer`
#### Тест №12.1: test_move_left (позитивный)
* _Цель_: Проверка корректности движения игрока влево.
* _Входные данные_: Нажатие клавиши влево.
* _Ожидаемый результат_: Игрок сдвигается влево на 2 пикселя.
* _Описание процесса_: Устанавливается нажатие клавиши влево, вызывается функция `move_player`, проверяется новая позиция игрока.

#### Тест №12.2: test_move_right (позитивный)
* _Цель_: Проверка корректности движения игрока вправо.
* _Входные данные_: Нажатие клавиши вправо.
* _Ожидаемый результат_: Игрок сдвигается вправо на 2 пикселя.
* _Описание процесса_: Устанавливается нажатие клавиши вправо, вызывается функция `move_player`, проверяется новая позиция игрока.

#### Тест №12.3: test_move_up (позитивный)
* _Цель_: Проверка корректности движения игрока вверх.
* _Входные данные_: Нажатие клавиши вверх.
* _Ожидаемый результат_: Игрок сдвигается вверх на 2 пикселя.
* _Описание процесса_: Устанавливается нажатие клавиши вверх, вызывается функция `move_player`, проверяется новая позиция игрока.

#### Тест №12.4: test_move_down (позитивный)
* _Цель_: Проверка корректности движения игрока вниз.
* _Входные данные_: Нажатие клавиши вниз.
* _Ожидаемый результат_: Игрок сдвигается вниз на 2 пикселя.
* _Описание процесса_: Устанавливается нажатие клавиши вниз, вызывается функция `move_player`, проверяется новая позиция игрока.

#### Тест №12.5: test_collision_right (позитивный)
* _Цель_: Проверка корректности обработки столкновения игрока со стеной при движении вправо.
* _Входные данные_: Позиция игрока рядом со стеной, нажатие клавиши вправо.
* _Ожидаемый результат_: Игрок останавливается перед стеной.
* _Описание процесса_: Устанавливается позиция игрока рядом со стеной, вызывается функция `move_player` с нажатием клавиши вправо, проверяется, что игрок остановился перед стеной.

#### Тест №12.6: test_collision_left (позитивный)
* _Цель_: Проверка корректности обработки столкновения игрока со стеной при движении влево.
* _Входные данные_: Позиция игрока рядом со стеной, нажатие клавиши влево.
* _Ожидаемый результат_: Игрок останавливается перед стеной.
* _Описание процесса_: Устанавливается позиция игрока рядом со стеной, вызывается функция `move_player` с нажатием клавиши влево, проверяется, что игрок остановился перед стеной.

#### Тест №12.7: test_collision_up (позитивный)
* _Цель_: Проверка корректности обработки столкновения игрока со стеной при движении вверх.
* _Входные данные_: Позиция игрока рядом со стеной, нажатие клавиши вверх.
* _Ожидаемый результат_: Игрок останавливается перед стеной.
* _Описание процесса_: Устанавливается позиция игрока рядом со стеной, вызывается функция `move_player` с нажатием клавиши вверх, проверяется, что игрок остановился перед стеной.


### 13. Класс `TestHandleEvents`
#### Тест №13.1: test_handle_quit_event (позитивный)
* _Цель_: Проверка корректности обработки события выхода.
* _Входные данные_: Событие pygame.QUIT.
* _Ожидаемый результат_: Приложение завершает работу и вызывает `SystemExit`.
* _Описание процесса_: Постится событие QUIT в очередь событий pygame, вызывается функция `handle_events`, проверяется, что при обработке события происходит выход из системы с помощью `SystemExit`.

#### Тест №13.2: test_no_event (позитивный)
* _Цель_: Проверка корректности обработки отсутствия событий.
* _Входные данные_: Отсутствие событий.
* _Ожидаемый результат_: Отсутствие ошибок при отсутствии событий.
* _Описание процесса_: Вызывается функция `handle_events` без постинга событий, проверяется отсутствие ошибок.

#### Тест №13.3: test_handle_other_key_event (позитивный)
* _Цель_: Проверка корректности обработки других клавишных событий.
* _Входные данные_: Событие нажатия клавиши 'A' 
* _Ожидаемый результат_: Функция `ConfirmExit` не вызывается.
* _Описание процесса_: Постится событие нажатия клавиши 'A' в очередь событий pygame, вызывается функция `handle_events`, проверяется, что функция `ConfirmExit` не была вызвана.

## План тестирования функциональных возможностей:

**1: Начало игры**
1. Нажмите клавишу Enter.
2. Проверьте, что игра начинается.

**2: Прохождение лабиринта**
1. Нажмите клавишу PgUp.
2. Проверьте, что персонаж перемещается вверх.
3. Нажмите клавишу PgDn.
4. Проверьте, что персонаж перемещается вниз.
5. Нажмите клавишу Home.
6. Проверьте, что персонаж перемещается влево.
7. Нажмите клавишу End.
8. Проверьте, что персонаж перемещается вправо.

**3: Сбор монет**
1. Наступите на "хорошую" монетку.
2. Проверьте, что количество монет увеличивается.
3. Наступите на "плохую" монетку.
4. Проверьте, что количество монет уменьшается.

**4: Завершение игры**
1. Дойдите до конца лабиринта.
2. Проверьте, что игра завершается и выводится сообщение о завершении.
3. Наберите необходимое количество монет.
4. Проверьте, что игра завершается и выводится сообщение о завершении.
5. Нажмите клавишу Esc.
6. Проверьте, что игра завершается и выводится сообщение о завершении.
